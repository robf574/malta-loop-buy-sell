import{j as s}from"./ui-vendor-KGc3Tmx2.js";import{r as j}from"./react-vendor-FMUcr-E9.js";import{l as p,k as f,A as c,S as N,C as t,f as m,d as r,b as g,B as l}from"./index-PnLDHn3k.js";import{A as v,a as y,b as A}from"./avatar-BMT2NIZS.js";import{a as w,L as C}from"./LoadingStates-cSxEZLRD.js";import{u as b}from"./router-vendor-VgEQHbbm.js";import{e as L,a as S,r as k,f as E,p as O,L as U}from"./icons-vendor-Cu8cUUch.js";import"./supabase-vendor-5tOxYv8x.js";import"./utils-vendor-rD1T8BKC.js";import"./query-vendor-BIjNb4qi.js";function z(){var n,x;const{user:e,profile:a,signOut:d,refreshProfile:i}=p(),{loading:o}=f(),h=b();j.useEffect(()=>{e&&i()},[e,i]);const u=async()=>{try{await d(),h("/auth")}catch{}};return o?s.jsx(c,{children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsx(w,{}),s.jsx(C,{})]})}):!e||!a?s.jsx(c,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Unable to load profile"})})})}):s.jsx(c,{children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsx(N,{title:"Account"}),s.jsx(t,{children:s.jsx(m,{className:"text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs(v,{className:"h-20 w-20",children:[s.jsx(y,{src:a.avatar_url}),s.jsx(A,{className:"text-lg",children:((n=a.username)==null?void 0:n.charAt(0).toUpperCase())||((x=e.email)==null?void 0:x.charAt(0).toUpperCase())})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:a.username||"User"}),s.jsx("p",{className:"text-muted-foreground",children:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.locality})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(t,{children:s.jsxs(r,{className:"pt-6 text-center",children:[s.jsx(L,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Listings"})]})}),s.jsx(t,{children:s.jsxs(r,{className:"pt-6 text-center",children:[s.jsx(S,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Favorites"})]})})]}),s.jsxs(t,{children:[s.jsx(m,{children:s.jsx(g,{children:"Quick Actions"})}),s.jsxs(r,{className:"space-y-3",children:[s.jsxs(l,{variant:"outline",className:"w-full justify-start",children:[s.jsx(k,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsxs(l,{variant:"outline",className:"w-full justify-start",children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),"My Events"]}),s.jsxs(l,{variant:"outline",className:"w-full justify-start",children:[s.jsx(O,{className:"mr-2 h-4 w-4"}),"Reviews"]})]})]}),s.jsx(t,{children:s.jsx(r,{className:"pt-6",children:s.jsxs(l,{variant:"destructive",className:"w-full",onClick:u,children:[s.jsx(U,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})})]})})}export{z as default};
