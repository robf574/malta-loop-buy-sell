import{j as e}from"./ui-vendor-KGc3Tmx2.js";import{r as a}from"./react-vendor-FMUcr-E9.js";import{s as x,A as p,I as u,B as f,C as n,d as o,a as j,b as N,c as w,e as g}from"./index-BJZvms-O.js";import{u as v}from"./router-vendor-jMJ2wIS-.js";import{S as y,d as C,b}from"./icons-vendor-CsDdOOCw.js";import"./supabase-vendor-5tOxYv8x.js";import"./utils-vendor-rD1T8BKC.js";import"./query-vendor-BIjNb4qi.js";function k(){const l=v(),[d,i]=a.useState([]),[t,m]=a.useState("");a.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:s,error:c}=await x.from("wanted_ads").select("*").eq("status","Active").order("created_at",{ascending:!1});if(c)throw c;i(s||[])}catch(s){console.error("Error fetching wanted ads:",s)}},r=d.filter(s=>t===""||s.title.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()));return e.jsx(p,{children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Wanted Ads"}),e.jsx("p",{className:"text-muted-foreground",children:"Help others find what they're looking for"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search wanted ads...",className:"pl-10",value:t,onChange:s=>m(s.target.value)})]}),e.jsxs(f,{className:"w-full",onClick:()=>l("/wanted/create"),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Post a Wanted Ad"]}),e.jsx("div",{className:"space-y-3",children:r.length===0?e.jsx(n,{children:e.jsx(o,{className:"pt-6 text-center text-muted-foreground",children:"No wanted ads yet. Be the first to post!"})}):r.map(s=>e.jsxs(n,{className:"cursor-pointer hover:shadow-md transition-smooth",children:[e.jsxs(j,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx(N,{className:"text-base",children:s.title}),s.budget_eur&&e.jsxs("span",{className:"font-bold text-primary whitespace-nowrap",children:["â‚¬",s.budget_eur]})]}),e.jsx(w,{className:"line-clamp-2",children:s.description})]}),e.jsx(o,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(g,{variant:"secondary",children:s.category}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsx("span",{children:s.locality})]})]})})]},s.id))})]})})}export{k as default};
