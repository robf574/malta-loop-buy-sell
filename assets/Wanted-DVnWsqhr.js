import{j as e}from"./ui-vendor-KGc3Tmx2.js";import{r as a}from"./react-vendor-FMUcr-E9.js";import{s as h,A as x,S as u,I as f,B as j,C as o,d as n,a as w,b as N,c as g,e as y}from"./index-CyEITM6U.js";import{u as v}from"./router-vendor-jMJ2wIS-.js";import{S as C,d as b,b as A}from"./icons-vendor-eQvKQs58.js";import"./supabase-vendor-5tOxYv8x.js";import"./utils-vendor-rD1T8BKC.js";import"./query-vendor-BIjNb4qi.js";function k(){const i=v(),[l,d]=a.useState([]),[t,m]=a.useState("");a.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:s,error:c}=await h.from("wanted_ads").select("*").eq("status","Active").order("created_at",{ascending:!1});if(c)throw c;d(s||[])}catch(s){console.error("Error fetching wanted ads:",s)}},r=l.filter(s=>t===""||s.title.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()));return e.jsx(x,{children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(u,{title:"Wanted Ads",subtitle:"Help others find what they're looking for"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{placeholder:"Search wanted ads...",className:"pl-10",value:t,onChange:s=>m(s.target.value)})]}),e.jsxs(j,{className:"w-full",onClick:()=>i("/wanted/create"),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Post a Wanted Ad"]}),e.jsx("div",{className:"space-y-3",children:r.length===0?e.jsx(o,{children:e.jsx(n,{className:"pt-6 text-center text-muted-foreground",children:"No wanted ads yet. Be the first to post!"})}):r.map(s=>e.jsxs(o,{className:"cursor-pointer hover:shadow-md transition-smooth",children:[e.jsxs(w,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx(N,{className:"text-base",children:s.title}),s.budget_eur&&e.jsxs("span",{className:"font-bold text-primary whitespace-nowrap",children:["â‚¬",s.budget_eur]})]}),e.jsx(g,{className:"line-clamp-2",children:s.description})]}),e.jsx(n,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(y,{variant:"secondary",children:s.category}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(A,{className:"h-3 w-3"}),e.jsx("span",{children:s.locality})]})]})})]},s.id))})]})})}export{k as default};
